1303
给一个含有1~n个数的某一种排列，再给一个b,要求求出以b为中位数的连续序列有多少个。
#include <bits/stdc++.h>
using namespace std;
const int MAXN = 1e5 + 10;
const int INF = 0x3f3f3f3f;
const int mod = 2007;
typedef long long ll;
int n, b;
int a[MAXN], l[3*MAXN], r[3*MAXN];

int main() {
    cin >> n >> b;
    int pos = 0;
    for(int i = 1; i <= n; ++i) {
        cin >> a[i];
        if(a[i] == b) pos = i;
    }
    int k = 0;
    l[n] = 1, r[n] = 1;
    for(int i = pos - 1; i >= 1; i--) {
        if(a[i] > b) k++;
        else k--;
        l[k+n]++;
    }
    k = 0;
    for(int i = pos + 1; i <= n; ++i) {
        if(a[i] < b) k++;
        else k--;
        r[k+n]++;
    }
    int ans = 0;
    for(int i = 0; i <= 2*n; ++i) ans += l[i]*r[i];
    cout << ans << endl;
    return 0;
}
